# apiVersion: v1
# kind: ConfigMap
# metadata:
#   name: mimir-config
#   namespace: shopmicro
# data:
#   mimir.yaml: |-
#     # Minimal valid Mimir config for local lab
#     server:
#       http_listen_port: 9009
#       grpc_listen_port: 9095

#     storage_config:
#       backend: "filesystem"
#       filesystem:
#         directory: /data/mimir

#     ruler:
#       enabled: false

#     limits:
#       ingestion_rate: 300


apiVersion: v1
kind: ConfigMap
metadata:
  name: mimir-config
  namespace: shopmicro
data:
  mimir.yaml: |
    target: all
    server:
      http_listen_port: 9009
    common:
      storage:
        backend: filesystem
        filesystem:
          dir: /data
    blocks_storage:
      filesystem:
        dir: /data/blocks
    compactor:
      data_dir: /data/compactor
    distributor:
      ring:
        kvstore:
          store: memberlist
    ingester:
      ring:
        kvstore:
          store: memberlist
    ruler_storage:
      filesystem:
        dir: /data/ruler
    store_gateway:
      sharding_ring:
        kvstore:
          store: memberlist